def rootDir = "../"
def dataZip = rootDir + 'data.zip'
def samplesData = rootDir + 'samples-data'

allprojects {
    apply plugin: 'java'
    apply plugin: 'eclipse'

    repositories {
        mavenCentral()
        maven {
            url 'http://android:8080/artifactory/arcgis'
        }
    }

    dependencies {
        compile 'com.esri.arcgisruntime:arcgis-java:100.0.0-1459'
    }
}

// Download data from AGOL for offline data samples
task downloadData {
    if (!file(samplesData).exists()) {
        ant.get(src: 'https://arcgisruntime.maps.arcgis' +
                '.com/sharing/rest/content/items/8b10b52320464b1bb728e552cfa6cb50/data', dest: dataZip)
        copy {
            from zipTree(dataZip)
            into(rootDir)
        }
        delete(dataZip)
    }
}